# 인터넷 네트워크의 구조

## 1. 인터넷을 사용하려면 어떤 과정이 필요할까?

우리는 KT, SK Broadband, LG U+와 같은 인터넷 서비스 제공업체(ISP)를 통해 인터넷을 사용한다.  
하지만 단순히 ISP가 있다고 해서 인터넷을 바로 사용할 수 있는 것은 아니다. ISP가 제공하는 인터넷을 가정이나 사무실에서 사용하려면 모뎀(Modem)이라는 장치가 필요하다.  
모뎀은 ISP에서 보내는 신호를 우리가 사용하는 기기들이 이해할 수 있도록 변환하는 역할을 한다. 이후 공유기가 여러 기기에서 인터넷을 사용할 수 있도록 연결하고, 내부 네트워크(LAN)를 구성하여 기기 간 데이터 교환이 이루어진다.
이번 글에서는 인터넷 네트워크가 어떻게 구성되는지, 그리고 각 장치들이 어떤 역할을 하는지 전체적인 흐름을 알아보겠다.

## 2. 모뎀(Modem)이란?

**모뎀**은 인터넷 신호를 변환하는 장치로, **ISP(인터넷 서비스 제공업체)**에서 받은 신호를 컴퓨터나 공유기가 사용할 수 있도록 변환하는 역할을 한다.

### 모뎀의 역할
- **변조(Modulation)**: 디지털 신호를 아날로그 신호로 변환하여 인터넷 신호를 전송
- **복조(Demodulation)**: 아날로그 신호를 다시 디지털 신호로 변환하여 사용 가능하도록 함

## 3. 공유기(Home Router)란?

공유기는 여러 기기들이 인터넷에 연결될 수 있도록 하는 장치이다. 또한, **내부 네트워크를 구성**하여 같은 네트워크에 있는 기기들이 서로 통신할 수 있도록 한다.

### 공유기의 주요 기능
- 인터넷 연결 공유
- 유선 및 무선 기기 연결 지원
- IP 주소 할당(DHCP 기능)
- 방화벽 및 보안 기능 제공

### 모뎀과 공유기의 차이

| 구분    | 모뎀              | 공유기             |
| ----- | --------------- | --------------- |
| 역할    | 인터넷 신호 변환       | 인터넷을 여러 기기에 연결  |
| 연결 방식 | ISP 네트워크와 직접 연결 | 내부 네트워크(LAN) 관리 |

## 4. 스위치(Switch)란?

- 같은 네트워크 내의 기기들이 서로 통신할 수 있도록 하는 장치
- 공유기의 랜 포트 수가 부족할 때 사용
- 스위칭 허브 혹은 허브라고도 불림 (잘쓰지는 않지만 허브라는 장치가 따로 있기 때문에 스위치라고 부르자)

## 5. LAN과 WAN의 개념

### LAN (Local Area Network)

- 하나의 공유기 안에서 형성되는 네트워크
- 같은 모뎀을 공유하더라도 공유기가 다르면 LAN이 다를 수 있음
- 기본적으로 같은 LAN에 있는 기기끼리는 직접 통신 가능

### WAN (Wide Area Network)

- 여러 개의 LAN을 연결하는 네트워크
- 각 LAN이 인터넷을 통해 다른 LAN과 연결될 때 WAN이 성립됨
- 서로 다른 모뎀을 사용하면 WAN을 통해서만 통신 가능 (각 모뎀이 ISP에서 다른 공인 IP를 할당받기 때문)
- VPN, 포트 포워딩, 공인 IP 연결 등을 통해 서로 다른 LAN을 WAN으로 연결할 수 있음

## 6. ISP(인터넷 서비스 제공업체)와 네트워크 연결 구조

ISP(Internet Service Provider)는 **인터넷 서비스를 제공**하는 사업체이다.

### 한국의 주요 ISP

- **KT**: 전국망을 보유한 최대 ISP
- **SK Broadband**: SK 계열 인터넷 서비스
- **LG U+**: LG 그룹의 인터넷 서비스
- **지역 케이블 ISP**: LG 헬로비전, 딜라이브, HCN 등

### ISP의 티어(Tier) 구조

ISP는 역할과 규모에 따라 계층(Tier)으로 구분된다.

#### Tier 1

- 국제적으로 인터넷 백본(Backbone)을 보유한 ISP
- 인터넷의 모든 네트워크에 접근 가능
- 다른 Tier 1 ISP와 비용 없이 직접 연결(Peering)

#### Tier 2

- 국가 또는 지역 단위에서 네트워크를 운영하는 ISP
- 인터넷의 모든 영역을 연결하기 위해 Tier 1에 비용을 내고 트래픽을 전송
- KT, SK Broadband, LG U+ 등이 Tier 2에 해당
- Tier 2 간의 통신에도 peering 계약을 한다면 비용 정산 없이 데이터를 주고받을 수 있음

#### Tier 3

- 지역 단위에서 서비스를 제공하는 ISP
- 상위 ISP(Tier 2)에게 비용을 내고 인터넷 트래픽을 구매하여 사용자에게 제공
- 지역 케이블 ISP(LG 헬로비전, 딜라이브, HCN 등)가 해당됨

## 7. ISP 간의 연결 방식

ISP 간의 연결은 **라우터(Router)**를 통해 이루어진다. 라우터는 목적지의 네트워크에 데이터를 전달하는 장치로, 최적의 경로를 선택하여 데이터를 전달한다.

### 인터넷을 통한 데이터 이동 과정

1. 사용자가 웹사이트(예: google.com)에 접속 요청
2. 공유기가 데이터를 ISP의 라우터로 전송
3. ISP의 라우터가 최적의 경로를 계산하여 데이터를 전달
4. 목적지 서버(구글 등)가 데이터를 응답하여 같은 경로로 되돌아옴

```
[사용자 PC] → [공유기] → [모뎀] → [여러 ISP 라우터] → [목적지 서버]
```

## 참고
[쉬운코드](https://www.youtube.com/watch?v=oFKYzp6gGfc)